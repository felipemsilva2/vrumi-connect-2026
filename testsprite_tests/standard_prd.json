{
  "meta": {
    "project": "Educational SaaS and Instructor Marketplace Platform",
    "date": "2025-11-04",
    "prepared_by": "Generated by AI Assistant"
  },
  "product_overview": "A SaaS platform for digital education focused on driver's license theoretical preparation and connecting students with certified instructors. The platform offers autonomous study tools including flashcards, simulated exams, and a comprehensive progress dashboard, integrated with payment and admin management.",
  "core_goals": [
    "Provide an efficient and autonomous learning environment for driver's license theoretical exam preparation.",
    "Enable students to practice with flashcards and simulados based on official DETRAN content.",
    "Facilitate connection between students and certified driving instructors in their region (marketplace).",
    "Offer subscription plans with secure checkout and payment processing.",
    "Provide administrative tools for user, content, and payment management.",
    "Ensure full accessibility and responsiveness across devices."
  ],
  "key_features": [
    "User authentication with email/password login.",
    "Study modules including courses, videos, theoretical texts.",
    "Flashcards generation and study with progress tracking.",
    "Simulated multiple choice exams following DETRAN standards with automatic correction and scoring.",
    "Dashboard displaying user progress, study time, and review suggestions.",
    "PDF content parsing and AI-based question and flashcard generation from official material.",
    "Stripe integration for checkout and payment confirmation emails.",
    "Marketplace module for searching and hiring certified driving instructors (planned for version 1).",
    "Administrative panels for managing users, questions, flashcards, roles, and audit logs.",
    "Compliance with LGPD data protection requirements, including consent management."
  ],
  "user_flow_summary": [
    "User registers and selects free or paid subscription plan.",
    "User logs in to access study materials, flashcards, and simulados.",
    "System tracks user responses and updates progress dashboard automatically.",
    "User completes simulated exams that are automatically scored with immediate feedback.",
    "(Future) User searches and books driving lessons with instructors via the marketplace.",
    "Instructors register profiles with location, vehicle type, and pricing, appearing in regional searches.",
    "Administrators manage platform content, users, payments, and view audit logs."
  ],
  "validation_criteria": [
    "Users can successfully log in within 10 seconds.",
    "Platform is fully responsive and visually legible on at least three screen resolutions including mobile.",
    "Flashcards show front/back and record user success locally.",
    "Simulated exams are auto-corrected and display accurate percentage scores.",
    "User progress updates immediately upon module completion and is visible on dashboard.",
    "Payment transactions complete successfully with confirmation emails sent.",
    "Mandatory LGPD consent checkbox is enforced before account registration.",
    "User-facing error messages are friendly and do not expose technical details."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React",
      "Vite",
      "TailwindCSS",
      "Supabase",
      "Deno",
      "Stripe",
      "PostgreSQL"
    ],
    "features": [
      {
        "name": "Geração de Questões",
        "description": "Gera questões de múltipla escolha a partir de PDF usando IA.",
        "files": [
          "supabase/functions/generate-questions/index.ts"
        ],
        "api_doc": {}
      },
      {
        "name": "Geração de Flashcards",
        "description": "Gera flashcards educacionais a partir de PDF usando IA.",
        "files": [
          "supabase/functions/generate-flashcards/index.ts"
        ],
        "api_doc": {}
      },
      {
        "name": "População de Materiais do PDF",
        "description": "Extrai e estrutura conteúdo didático do PDF para o sistema.",
        "files": [
          "supabase/functions/populate-materiais-from-pdf/index.ts"
        ],
        "api_doc": {}
      },
      {
        "name": "Checkout e Pagamento",
        "description": "Integração com Stripe para checkout e verificação de pagamento.",
        "files": [
          "supabase/functions/create-checkout/index.ts",
          "supabase/functions/verify-payment/index.ts"
        ],
        "api_doc": {}
      },
      {
        "name": "Parse de PDF",
        "description": "Faz o parse de arquivos PDF para extração de conteúdo.",
        "files": [
          "supabase/functions/parse-pdf/index.ts"
        ],
        "api_doc": {}
      },
      {
        "name": "Dashboard do Usuário",
        "description": "Dashboard com estatísticas, progresso e simulados.",
        "files": [
          "src/components/dashboard/SimuladosView.tsx",
          "src/components/ui/dashboard-with-collapsible-sidebar.tsx"
        ],
        "api_doc": {}
      },
      {
        "name": "Administração",
        "description": "Painéis administrativos para gestão de usuários, questões, flashcards e logs.",
        "files": [
          "src/pages/AdminQuestions.tsx",
          "src/pages/AdminFlashcards.tsx",
          "src/pages/admin/AdminDashboard.tsx",
          "src/pages/admin/AdminAuditLogs.tsx",
          "src/pages/admin/AdminRoles.tsx"
        ],
        "api_doc": {}
      }
    ]
  }
}
